media:
  - name: blog_media
    label: Blog Images
    input: public/blog-images
    output: /blog-images
    extensions: [jpg, jpeg, png, webp, gif]
  - name: project_media
    label: Project Images
    input: public/project-images
    output: /project-images
    extensions: [jpg, jpeg, png, webp]
  - name: update_media
    label: Update Images
    input: public/update-images
    output: /update-images
    extensions: [jpg, jpeg, png, webp]

components:
  markdown_body:
    label: Markdown Body
    type: text
    required: true
    options:
      rows: 24
      autoresize: true
  summary_text:
    label: Summary Text
    type: text
    options:
      rows: 6
      autoresize: false
  external_link:
    label: External Link
    type: string
    pattern:
      regex: '^https?://.+$'
      message: 'Use a full URL starting with http:// or https://'

content:
  - name: blog
    label: Blog Posts
    path: src/content/blog
    type: collection
    fields:
      - name: title
        label: Title
        type: string
        required: true
      - name: description
        label: Summary
        component: summary_text
        required: true
        description: 'Short excerpt used on listings and SEO.'
      - name: publishDate
        label: Publish Date
        type: date
        required: true
        default: today
      - name: draft
        label: Draft
        type: boolean
        default: false
        description: 'Leave checked while you are editing. Uncheck to publish.'
      - name: tags
        label: Tags
        type: string
        list: true
        description: 'Optional keywords, one per line.'
      - name: image
        label: Featured Image
        type: image
        description: 'Optional hero image shown on the blog listing and detail page.'
        options:
          media: blog_media
      - name: body
        label: Content
        component: markdown_body
        description: 'Write using Markdown. Headings, links, quotes, and code are supported.'

  - name: projects
    label: Projects
    path: src/content/projects
    type: collection
    fields:
      - name: title
        label: Title
        type: string
        required: true
      - name: description
        label: Summary
        component: summary_text
        required: true
        description: 'One-sentence pitch that appears in the projects list.'
      - name: link
        label: Project Link
        component: external_link
        required: true
      - name: order
        label: Display Order
        type: number
        default: 1
        description: 'Lower numbers appear first.'
      - name: image
        label: Project Image
        type: image
        description: 'Optional visual used on the project card.'
        options:
          media: project_media
      - name: body
        label: Details
        component: markdown_body
        description: 'Longer description and background. Markdown only.'

  - name: updates
    label: Quick Updates
    path: src/content/updates
    type: collection
    fields:
      - name: title
        label: Title
        type: string
        required: true
      - name: publishDate
        label: Publish Date
        type: date
        required: true
        default: today
      - name: link
        label: External Link
        component: external_link
        required: false
        description: 'Optional source or related reading.'
      - name: linkTitle
        label: Link Title
        type: string
        description: 'Text to display for the external link.'
      - name: image
        label: Update Image
        type: image
        description: 'Optional image to accompany the update.'
        options:
          media: update_media
      - name: body
        label: Update
        component: markdown_body
        description: 'Keep it concise. Markdown formatting is supported.'
